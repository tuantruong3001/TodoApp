"use strict";(self.webpackChunkfirestarter=self.webpackChunkfirestarter||[]).push([[462],{7462:(L,d,n)=>{n.r(d),n.d(d,{CustomersModule:()=>y});var c=n(6814),i=n(7920),t=n(5879),h=n(6593);let g=(()=>{class s{constructor(e,o,a){this.title=e,this.meta=o,this.router=a}generateTags({title:e="",description:o="",image:a=""}){this.title.setTitle(e),this.meta.addTags([{name:"og:url",content:`https://firestarter.fireship.io${this.router.url}`},{name:"og:title",content:e},{name:"og:description",content:o},{name:"og:image",content:a},{name:"twitter:card",content:"summary"},{name:"twitter:site",content:"@fireship_dev"}])}static#t=this.\u0275fac=function(o){return new(o||s)(t.LFG(h.Dx),t.LFG(h.h_),t.LFG(i.F0))};static#s=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var m=n(7650),C=n(2096);let p=(()=>{class s{subscribeToCustomers(){this.customers||(this.subscription=this.db.collection("customers").valueChanges({idField:"id"}).subscribe(e=>{}))}getCustomer(e){if(this.customers){const o=this.customers.find(a=>a.id===e);return console.log("use cached"),(0,C.of)(o)}return console.log("use db"),this.db.collection("customers").doc(e).valueChanges()}dispose(){}constructor(e){this.db=e,this.customers=[]}static#t=this.\u0275fac=function(o){return new(o||s)(t.LFG(m.ST))};static#s=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var v=n(1175),u=n(1919);function T(s,l){if(1&s&&(t.TgZ(0,"mat-list-item",3)(1,"mat-icon",4),t._uU(2,"account_box"),t.qZA(),t.TgZ(3,"h3"),t._uU(4),t.qZA()()),2&s){const e=l.$implicit;t.Q6J("routerLink",e.id),t.xp6(4),t.Oqu(e.name)}}let Z=(()=>{class s{constructor(e,o,a){this.seo=e,this.db=o,this.data=a}ngOnInit(){this.seo.generateTags({title:"Customer List",description:"A list filled with customers"}),this.data.subscribeToCustomers()}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(g),t.Y36(m.ST),t.Y36(p))};static#s=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-list-page"]],decls:7,vars:1,consts:[["role","list"],["mat-subheader",""],["role","listitem",3,"routerLink",4,"ngFor","ngForOf"],["role","listitem",3,"routerLink"],["mat-list-icon",""]],template:function(o,a){1&o&&(t.TgZ(0,"h1"),t._uU(1,"List Page"),t.qZA(),t.TgZ(2,"mat-nav-list",0)(3,"h3",1),t._uU(4,"Customers (Fake Data)"),t.qZA(),t.YNc(5,T,5,2,"mat-list-item",2),t.qZA(),t._uU(6,"\n//add list mat-card-content\n")),2&o&&(t.xp6(5),t.Q6J("ngForOf",a.data.customers))},dependencies:[c.sg,i.rH,v.Hw,u.Hk,u.Tg,u.gs],styles:["[_nghost-%COMP%]{text-align:center;padding:24px}mat-nav-list[_ngcontent-%COMP%]{max-width:600px;background-color:#212121;padding:0;margin:0 auto}mat-list-item[_ngcontent-%COMP%]{transition:transform .3s ease}mat-list-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}"]})}return s})();var f=n(2296),r=n(5195);function A(s,l){if(1&s&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5,"Customer Details"),t.qZA()(),t._UZ(6,"img",3),t.TgZ(7,"mat-card-content")(8,"p"),t._uU(9),t.qZA()()()),2&s){const e=l.ngIf;t.xp6(3),t.Oqu(e.name),t.xp6(3),t.Q6J("src",e.image,t.LSH),t.xp6(3),t.hij(" ",e.bio," ")}}const x=[{path:"",component:Z},{path:":id",component:(()=>{class s{constructor(e,o,a,F){this.route=e,this.db=o,this.seo=a,this.data=F}ngOnInit(){this.customer=this.db.collection("customers").doc(this.customerId).valueChanges()}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(i.gz),t.Y36(m.ST),t.Y36(g),t.Y36(p))};static#s=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-detail-page"]],decls:14,vars:4,consts:[["href","https://cards-dev.twitter.com/validator","target","blank","mat-stroked-button","","color","accent"],["mat-raised-button","","routerLink","/customers"],[4,"ngIf"],["mat-card-image","",3,"src"]],template:function(o,a){1&o&&(t.TgZ(0,"h1"),t._uU(1,"Detail Page"),t.qZA(),t.TgZ(2,"mat-card")(3,"p"),t._uU(4,"This content is server rendered with Angular Universal, NestJS, and Google Cloud Run."),t.qZA(),t._uU(5," Paste URL: "),t.TgZ(6,"pre"),t._uU(7),t.qZA(),t.TgZ(8,"a",0),t._uU(9,"Twitter Card Validator"),t.qZA(),t.TgZ(10,"button",1),t._uU(11,"BACK"),t.qZA()(),t.YNc(12,A,10,3,"mat-card",2),t.ALo(13,"async")),2&o&&(t.xp6(7),t.hij("https://firestarter.fireship.io/customers/",a.customerId,""),t.xp6(5),t.Q6J("ngIf",t.lcZ(13,2,a.customer)))},dependencies:[c.O5,i.rH,f.zs,f.lW,r.a8,r.dn,r.dk,r.G2,r.$j,r.n5,c.Ov],styles:["[_nghost-%COMP%]{text-align:center;padding:24px}mat-card[_ngcontent-%COMP%]{max-width:450px;background-color:#212121;margin:0 auto 10px}"]})}return s})()}];let U=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#s=this.\u0275mod=t.oAB({type:s});static#e=this.\u0275inj=t.cJS({imports:[i.Bz.forChild(x),i.Bz]})}return s})();var b=n(6208);let y=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#s=this.\u0275mod=t.oAB({type:s});static#e=this.\u0275inj=t.cJS({imports:[c.ez,b.m,U]})}return s})()}}]);